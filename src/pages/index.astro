---
import Layout from "@layouts/Layout.astro";

import Nav from "@astroComponents/Nav.astro";
import Repo from "@astroComponents/Repo.astro";

import { Age, IconPill } from "@solidComponents/solidComponents";
import AtlassianIcon from "@svelteComponents/AtlassianIcon.svelte";

import { fetchRepos } from "@utils/github";

const repoData = await fetchRepos();
---
<Layout title="Homepage">
    <main 
        class="
            object-center m-12 md:m-[2.5rem] lg:m-32
            text-textLight dark:text-textDark 
        "
    >
        <div class="flex flex-row">
            <div class="flex flex-col">
                <Nav />
                <div>
                    <h1
                        class="
                            mt-5 mb-10 duration-500 font-bold
                            text-2xl md:text-3xl lg:text-4xl xl:text-5xl
                            leading-normal lg:leading-normal xl:leading-normal
                        "
                    >
                        Howdy üëãüèΩ I'm Aniket,<br />
                        Software Engineer <span class="whitespace-nowrap"
                        >@<a href="https://www.atlassian.com"
                            ><IconPill client:load class="inline mx-4 md:mx-6 px-2 py-1 rounded-full">
                            <AtlassianIcon
                                client:only
                                base={20}
                                scale={5}
                                style="inline align-baseline"
                            />
                            <span class="pr-4">Atlassian</span>
                            </IconPill></a
                        ></span>
                    </h1>

                    <p class="">
                        I'm a <Age client:idle /> year old developer who enjoys working on full-stack
                        applications, writing clean code and ensuring top of the line DevEx.
                    </p>
                </div>
                <div>
                    <h2 class="font-bold text-xl my-10 md:text-2xl lg:text-3xl xl:text-4xl">
                        What am I working on?
                    </h2>
                    <p class="my-4">
                        Who knows what I'm doing right now, but here's some stuff I've created.
                    </p>
                    <div class="flex flex-col lg:flex-row sm:gap-1 lg:gap-5">
                        {repoData.map(r => <Repo repo={r} />)}
                    </div>
                </div>
            </div>
            <div class="hidden 2xl:block" style="flex-basis: calc(100% / 2);"></div>
        </div>
    </main>
</Layout>
